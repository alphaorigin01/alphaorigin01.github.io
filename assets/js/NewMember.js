(function(){"use strict";var e;e=angular.module("NewMember",["AthleteService","PubNubService"]),e.controller("NewMemberController",["$scope","$rootScope","$timeout","Athlete","PubNub",function(e,n,t,i,r){return window.NewMember=e,e.athlete=i,e.$on("Server : Online",function(){return e.$evalAsync(function(){return e.visibleNewMember=!0})}),e.$on("Context Switch",function(){return e.visibleNewMember=!1}),e.$watch("username",function(){return null!=e.username&&""!==e.username?r("AthleteService : Check Athlete ID",e.username):(e.usernameValid=!1,e.usernameInvalid=!1)}),e.$watch("password",function(){return e.passwordValid=null!=e.password&&""!==e.password&&e.password.length>5?!0:!1}),e.$watch("invitation",function(){return null!=e.invitation&&""!==e.invitation?r("AthleteService : Check Invitation",e.invitation):(e.invitationValid=!1,e.invitationInvalid=!1)}),e.$on("AthleteService : Athlete ID Available",function(n,t){return e.username===t?e.$evalAsync(function(){return e.usernameValid=!0,e.usernameInvalid=!1}):void 0}),e.$on("AthleteService : Athlete ID Unavailable",function(n,t){return e.username===t?e.$evalAsync(function(){return e.usernameValid=!1,e.usernameInvalid=!0}):void 0}),e.$on("AthleteService : Invitation Is Valid",function(n,t){return e.invitation===t?e.$evalAsync(function(){return e.invitationValid=!0,e.invitationInvalid=!1}):void 0}),e.$on("AthleteService : Invitation Is Invalid",function(n,t){return e.invitation===t?e.$evalAsync(function(){return e.invitationValid=!1,e.invitationInvalid=!0}):void 0}),e.requestMembership=function(){return null!=i.height&&i.height>0&&null!=i.weight&&i.weight>0&&null!=i.bodyFat&&i.bodyFat>0&&e.usernameValid&&e.passwordValid&&e.invitationValid?(i._id="athlete_"+e.username,i.invitation=e.invitation,r("AthleteService : New Athlete",i)):void 0}}]),e.directive("newMemberSection",function(){return{restrict:"E",templateUrl:"assets/templates/NewMember.html",controller:"NewMemberController",scope:!0,replace:!0}})}).call(this);