// Generated by CoffeeScript 1.9.2
(function() {
  'use strict';
  var app;

  if (window.location.protocol !== "https:") {
    window.location.href = "https:" + window.location.href.substring(window.location.protocol.length);
  }

  app = angular.module('lab', ['Login', 'NewMember', 'PubNubService', 'BTCService', 'OrderService', 'Order', 'AthleteService', 'Athlete', 'Messages', 'ProtocolService', 'Protocol', 'StatusBar', 'PrimaryMenu', 'Masthead', 'ShoppingCart', 'Search', 'ProtocolByID', 'Editor']);


  /*                      Controllers */


  /*                      Directives */

  app.directive('contenteditable', function() {
    return {
      require: 'ngModel',
      link: function(scope, elm, attrs, ctrl) {
        elm.bind('blur', function() {
          return scope.$evalAsync(function() {
            return ctrl.$setViewValue(elm.html());
          });
        });
        elm.bind('keydown', function(e) {
          if (e.keyCode === 13) {
            e.preventDefault();
            return e.currentTarget.blur();
          }
        });
        elm.bind('paste', function(e) {
          e.preventDefault();
          window.pastey = elm;
          return elm[0].innerText = e.originalEvent.clipboardData.getData("text/plain");
        });
        return ctrl.$render = function() {
          return elm.html(ctrl.$viewValue);
        };
      }
    };
  });

}).call(this);
