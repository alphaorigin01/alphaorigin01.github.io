(function(){"use strict";var e;e=angular.module("Order",["ProtocolService","AthleteService","CompoundService","BTCService"]),e.controller("OrderController",["$rootScope","$scope","$http","$element","$timeout","BTCrate","Protocol","Athlete","Compounds","Order",function(e,r,t,n,o,l,i,s,c,u){return r.orders=u.get(),r.BTCrate=l,r.Athlete=s,r.Compounds=c,r.$on("Context Switch",function(e,t){return r.visibleOrders=_.contains(["Athlete Profile"],t)}),r.statusIsPayment=function(e){return r.orders[e].fulfillment.paymentRecieved===!1},r.statusIsFormulating=function(e){return r.orders[e].fulfillment.paymentRecieved===!0&&r.orders[e].fulfillment.shipped===!1},r.statusIsShipped=function(e){return r.orders[e].fulfillment.shipped===!0},r.shippingBarLength=function(e){var r,t,n,o,l;return null==Orders[e].trackingInfo?"0":(l=new Date,o=_.last(Orders[e].trackingInfo.history).date,r=Orders[e].trackingInfo.deliveryDay,t=r-o,n=0>r-l?r-o:r-l,n/t>1?"34rem":n/t*34+"rem")}}]),e.directive("ordersSection",function(){return{restrict:"E",templateUrl:"assets/templates/Order.html",controller:"OrderController",scope:!0,replace:!0}})}).call(this);